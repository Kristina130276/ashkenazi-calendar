<!DOCTYPE html>
<html lang="he">
<head>
<meta charset="UTF-8">
<title>לוח שנה עברי</title>

<style>
  body{
    margin:0;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    background:#f2f3f5;
  }

  .layout{
    display:flex;
    gap:24px;
    padding:24px;
    justify-content:center;
    align-items:flex-start;
    flex-wrap:wrap;
  }

  .panel{
    background:#fff;
    border-radius:16px;
    padding:20px;
    box-shadow:0 12px 30px rgba(0,0,0,.12);
  }

  .calendar{
    width:min(720px, 95vw);
  }

  .today{
    width:min(420px, 95vw);
    direction:rtl;
    text-align:right;
  }

  h2{
    margin-top:0;
  }

  .today-date{
    font-size:22px;
    font-weight:600;
    margin-bottom:8px;
  }

  .today-heb{
    font-size:18px;
    margin-bottom:8px;
  }

  .holiday{
    color:#b3261e;
    font-weight:600;
    margin-bottom:12px;
  }

  .small{
    color:#666;
    font-size:14px;
  }

  iframe{
    width:100%;
    height:420px;
    border:none;
    border-radius:12px;
  }
</style>
</head>

<body>

<div class="layout">

  <!-- ЛЕВЫЙ БЛОК: КАЛЕНДАРЬ -->
  <div class="panel calendar">
    <iframe 
      src="https://www.hebcal.com/hebcal/?v=1&year=now&month=x&maj=on&min=on&mod=on&nx=on&ss=on&mf=on&c=on&geo=geoname&geonameid=293992&lg=he">
    </iframe>
  </div>

  <!-- ПРАВЫЙ БЛОК: СЕГОДНЯ -->
  <div class="panel today">
    <h2>היום</h2>

    <div class="today-date" id="gdate"></div>
    <div class="today-heb" id="hdate"></div>
    <div class="holiday" id="holiday"></div>
    <div class="small" id="sun"></div>
    <div class="small">הנתונים מאתר Hebcal</div>
  </div>

</div>

<script>
(async ()=>{
  const now = new Date();
  const yyyy = now.getFullYear();
  const mm = String(now.getMonth()+1).padStart(2,'0');
  const dd = String(now.getDate()).padStart(2,'0');

  document.getElementById("gdate").textContent = `${dd}.${mm}.${yyyy}`;

  const url = `https://www.hebcal.com/converter?cfg=json&date=${yyyy}-${mm}-${dd}&geo=geoname&geonameid=293992&lg=he`;
  const data = await fetch(url).then(r=>r.json());

  document.getElementById("hdate").textContent = data.hebrew;
  document.getElementById("holiday").textContent =
    data.events?.find(e=>e.category==="holiday")?.title || "—";

  document.getElementById("sun").textContent =
    data.sunset ? `שקיעה: ${data.sunset}` : "";
})();
</script>

</body>
</html>
